<h2 class="auth-title">Créer un compte</h2>

<form [formGroup]="form" (ngSubmit)="submit()">
  <label>Nom d'utilisateur</label>
  <input formControlName="username" placeholder="Nom d'utilisateur" />
  @if (form.controls.username.invalid && form.controls.username.touched){
  <p class="error">Nom d'utilisateur requis</p>
  }

  <label>Email</label>
  <input formControlName="email" placeholder="Email" type="email" />
  @if (form.controls.email.invalid && form.controls.email.touched) {
  <p class="error">Email invalide</p>
  }

  <label>Mot de passe</label>
  <input formControlName="password" placeholder="Mot de passe" type="password" />
  @if (form.controls.password.invalid && form.controls.password.touched) {
  <p class="error">Mot de passe requis</p>
  }

  <button type="submit" [disabled]="form.invalid">S'inscrire</button>
</form>

<button type="button" class="google-button" (click)="signupWithGoogle()" disabled>
  Continuer avec Google (bientôt dispo)
</button>

@if (message) {
<p class="status" [class.status-error]="message.includes('Erreur')">
  {{ message }}
</p>
}

<p class="auth-cta">Déjà inscrit ? <a routerLink="/login">Connectez-vous</a></p>
